set system host-name vyos

set nat source rule 101 outbound-interface 'eth1'
set nat source rule 101 source address '10.0.0.2/24'
set nat source rule 101 translation address masquerade

set interfaces ethernet eth0 vrrp vrrp-group 10
set interfaces ethernet eth0 vrrp vrrp-group 10 virtual-address '10.0.0.1/24'
set interfaces ethernet eth0 vrrp vrrp-group 10 preempt true
set interfaces ethernet eth0 vrrp vrrp-group 10 priority 150
set interfaces ethernet eth0 vrrp vrrp-group 10 run-transition-scripts backup /config/scripts/backup.sh
set interfaces ethernet eth0 vrrp vrrp-group 10 run-transition-scripts master /config/scripts/master.sh

set service dhcp-server shared-network-name LAN subnet 10.0.0.0/24 failover local-address 10.0.0.2
set service dhcp-server shared-network-name LAN subnet 10.0.0.0/24 failover peer-address 10.0.0.3
set service dhcp-server shared-network-name LAN subnet 10.0.0.0/24 failover status primary
set service dhcp-server shared-network-name LAN subnet 10.0.0.0/24 failover name FAILOVER

set service dhcp-server shared-network-name VPN subnet 10.0.20.0/24 failover local-address 10.0.0.2
set service dhcp-server shared-network-name VPN subnet 10.0.20.0/24 failover peer-address 10.0.0.3
set service dhcp-server shared-network-name VPN subnet 10.0.20.0/24 failover status primary
set service dhcp-server shared-network-name VPN subnet 10.0.20.0/24 failover name FAILOVER_VPN
