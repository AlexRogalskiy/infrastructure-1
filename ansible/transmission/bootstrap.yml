---

- name: Launch server
  hosts: localhost
  connection: local
  gather_facts: false

  vars:
    vm_name: "transmission"
    vm_template: "ubuntu-template"
    vm_type: "transmission"
    vm_memory_mb: "2048"
    vm_num_cpus: 2
    esxi_host: esxi2
    vm_networks:
      - name: VPN
        device_type: vmxnet3
        type: dhcp

  roles:
    - ../roles/vcenter/launch_instance

- name: Setup transmission
  hosts: instances
  user: ubuntu
  become: yes

  roles:
    - ../roles/expand_root
    - ../roles/transmission
